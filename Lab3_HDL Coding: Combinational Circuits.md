### Кодування на HDL: Комбінаторні схеми
**Проф. Л. Беніні, Ф. Гюркаянк, М. Корб**  
**Остання зміна:** 2024-09-17 10:30:19 +0200

#### Нагадування:
Починаючи це навчання, ви підтверджуєте, що розумієте та приймаєте правила використання установок CAE/CAD програмного забезпечення в ETH Zurich. З ними можна ознайомитись у будь-який час на [eda.ee.ethz.ch](http://eda.ee.ethz.ch/index.php/Regulations).

### 1 Вступ
У цій вправі ви будете використовувати основні концепції мови опису апаратного забезпечення SystemVerilog (HDL) для чисто комбінаторних схем. Зокрема, ви дізнаєтеся:
- як описувати логічні функції, такі як AND та OR,
- як працювати з типами даних у SystemVerilog,
- як реалізовувати комбінаторні блоки, наприклад мультиплексор,
- як створювати ієрархічні архітектури з допомогою модулів, і
- як реалізовувати прості арифметичні функції, такі як множення і додавання.

Вправа розрахована на виконання протягом двох післяобідніх сесій. Разом ми реалізуємо відеопроцесор реального часу HDMI на вашій платі Zybo Z7. Ми припускаємо, що ви вже знайомі з процесом проектування і реалізації FPGA, але може бути корисно ознайомитися з аркушем вправи 1. Під час виконання вправи ви також познайомитеся з симулятором Vivado, який можна використовувати для функціональної перевірки. Ви використовуватимете його з наданим тестовим стендом (розробка власного тестового стенду буде темою вправи 4, і ми не очікуємо, що ви повністю вивчите симулятор після цієї вправи).

Як завжди, ми заохочуємо вас обговорювати будь-які питання, що виникають під час виконання вправи, з асистентами.

### 2 Підготовка
Завдання для студента 1 (налаштування): Налаштуйте робочу директорію для цієї вправи, запустивши наш інсталяційний скрипт і перейшовши в новостворену директорію:
```sh
sh > /home/vlsi1/ex2/install.sh
sh > cd ex2
```

### 3 Обробка відео
Перед тим як розпочати реалізацію вашого відеопроцесора, ми надамо вам деякі базові знання з обробки відео. Зокрема, ми коротко пройдемося по основах кольорової моделі червоний-зелений-синій (RGB) та інтерфейсу HDMI. Насамперед важливо зазначити, що відео — це просто послідовність зображень (у контексті обробки відео ці зображення називаються кадрами), а зображення — це просто масив пікселів.

#### 3.1 RGB
Піксель — це найменша адресована точка в растровому зображенні і, для моделі RGB, складається з трьох компонентів (які ще називаються каналами), інтенсивність яких може змінюватися. Чим більше у вас пікселів, тим вища роздільна здатність зображення. RGB — це проста та поширена адитивна кольорова модель: адитивна означає, що канали (червоний, зелений і синій у даному випадку) додаються для зображення кольору пікселя.

### 3.1.1 Глибина кольору
Як і щільність пікселів, глибина кольору є мірою якості зображення. Вона визначає, скільки різних кольорів може бути представлено одним пікселем. Як вже було зазначено, кожен із трьох компонентів пікселя має свою інтенсивність; у цій вправі ми будемо безпосередньо взаємодіяти з ними: кожен канал RGB має 8 біт, отже доступно 256 різних інтенсивностей для кожного з трьох кольорів, які варіюються від 0 (відсутність цього кольору) до 255 (максимальна інтенсивність цього кольору). Завдяки комбінації трьох кольорів ми здатні відтворити \( 2^8 \times 2^8 \times 2^8 = 16,777,216 \) різних кольорів. 

Тож чорний піксель у моделі RGB буде представлений значеннями:

\[
\text{rgb}_{\text{black}} = (0, 0, 0)
\]

де всі канали мають інтенсивність 0. Навпаки, білий піксель буде мати максимальні значення на кожному каналі:

\[
\text{rgb}_{\text{white}} = (255, 255, 255)
\]

а, наприклад, чисто червоний піксель матиме:

\[
\text{rgb}_{\text{red}} = (255, 0, 0)
\]

### 3.2 HDMI
Інтерфейс HDMI (High-Definition Multimedia Interface) є стандартом для передачі відео- та аудіоінформації між різними пристроями, як-от телевізори, монітори, комп’ютери тощо. HDMI здатний передавати високоякісні зображення з високою роздільною здатністю, а також звук, що робить його популярним стандартом для сучасних мультимедійних пристроїв.

На схемі (Рис. 1) наведено основні компоненти HDMI-з’єднання. Пікселі з кольоровими каналами RGB передаються з вхідного сигналу HDMI (HDMI_IN) через процесор обробки кольорів (`rgb_proc_wrap`) на вихідний інтерфейс (HDMI_OUT). Включені також сигнали керування, такі як `hsync` (горизонтальна синхронізація), `vsync` (вертикальна синхронізація), та `vde` (вказує, коли дані дійсні), які допомагають синхронізувати передачу зображення.

### Завдання
У рамках цієї вправи вам потрібно буде реалізувати різні комбінаторні схеми для обробки відеосигналу, такі як мультиплексори, суматори та логічні блоки, щоб налаштувати передачу HDMI для RGB-зображень. Ви також будете працювати з симулятором Vivado для перевірки правильності реалізації вашої схеми.



