Кафедра інформаційних технологій та електротехніки

VLSI I:
Від архітектур до VLSI схем та ПЛІС

227-0116-00L

Вправа 3

HDL кодування: Послідовні схеми

Проф. Л. Беніні
Ф. Гюркайнак
М. Корб

Останні зміни: 2024-09-30 14:34:02 +0200

### 1 Вступ

У цій вправі ви вивчите основи послідовних схем. Послідовні схеми є елементами, що зберігають стан в проекті. Поєднуючи їх з комбінаційними схемами, про які ви дізналися в попередній вправі, ми можемо будувати комплексні цифрові проекти. Послідовні схеми можна широко поділити на дві категорії: синхронні та асинхронні. Синхронні елементи, що зберігають стан, оновлюють свій стан лише протягом конкретних проміжків часу, що визначаються глобальним тактовим сигналом, спільним для всіх елементів зберігання в проекті. Асинхронна послідовна схема, з іншого боку, змінює свій стан залежно лише від сигналів, які не поділяються глобально. Такий тип послідовної схеми створює проблеми зі стабільністю, як ви дізнаєтесь пізніше під час курсу, тому наш фокус у цій вправі буде на синхронних послідовних схемах.

Послідовні схеми далі класифікуються як чутливі до рівня або чутливі до фронту, залежно від того, як визначається вікно часу, протягом якого оновлюється стан, відносно тактового сигналу. У проекті, чутливому до рівня, оновлення можуть відбуватися в будь-який час, коли тактовий сигнал чутливий (логічна 1), що дозволяє елементу, що зберігає стан, бути прозорим. У цій вправі ми будемо мати справу з проектами, чутливими до фронту, які обмежують час оновлень лише моментами переходу значення на синхронізуючому тактовому сигналі, тим самим запобігаючи небажаним оновленням, які можуть виникнути через більше вікно оновлення.

Фундаментальним елементом синхронної послідовної схеми, чутливої до фронту, є D-тригер, який вибирає та оновлює стан при настанні позитивного фронту тактового сигналу. Схема D-тригера з синхронним активним низьким скиданням та відповідний опис апаратури в SystemVerilog показано на Рисунку 1. Як показано на рисунку, D-тригер має вхід синхронізації C, позначений маленьким трикутником, що вказує на те, що він чутливий до позитивних фронтів тактового входу. D-вивід визначає вхід при позитивному фронті clk. C-вивід робить вибране значення доступним як вихід після позитивного фронту тактового сигналу. Нарешті, вхід скидання rst_n, підключений до сигналу R, ініціалізує збережене значення синхронно до тактового сигналу, коли застосовується нове значення. Той факт, що скидання запускається логічним низьким сигналом, показано маленьким колом на виводі скидання.


Рисунок 1: D-тригер. Схема та фрагмент коду

З іншого боку, фундаментальним елементом синхронної послідовної схеми, чутливої до рівня, є засувка. Як вже згадувалося, її вихід комбінаційно слідує за входом, коли тактовий сигнал активний, тоді як вона стабільна, коли тактовий сигнал не активний. Ми не будемо використовувати такий тип пристрою тут.

Розглянувши основи послідовного проектування, давайте тепер попрацюємо над кількома прикладами використання, де послідовні схеми стають корисними. По-перше, як розминка, ми розробимо зсувовий регістр на основі D-тригерів. Після цього починається веселе - для решти частини цієї вправи ви будете працювати з деякими високотехнологічними додатками обробки відео, щоб допомогти судовому експерту проаналізувати нечітке зображення! В процесі ви вивчите принципи проектування послідовних схем, такі як кінцеві автомати (FSM), цифрові детектори фронтів та цифрові лічильники.

Основи обробки відео, які ви вивчили в попередній вправі, стануть у нагоді, коли ви пізніше виконуватимете завдання в цій вправі. Рекомендується дотримуватися наших рекомендацій щодо кодування SystemVerilog для частин, які ви маєте написати самостійно, щоб уникнути проблем із синтаксисом. Також рекомендується створити власний скрипт-файл та додати команди для автоматизації процесу створення та компіляції проекту Vivado.

[http://github.com/ics-isg/teaching/blob/master/VerilogCodingStyle.md]
